<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!--[if lt IE 9]>
<script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

</head>
<body>

<div id="console">
</div>

<script>

    function consoleWrite(msg) {
        console.log(msg);

        var div = document.querySelector('#console');
        var p = document.createElement('p');
        p.innerHTML = msg;
        div.appendChild(p);
    }


    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
            .then(function(registration) {
                consoleWrite('ServiceWorker registration successful with scope: ' + registration.scope);

                if ( !('showNotification' in ServiceWorkerRegistration.prototype) ) {
                    consoleWrite('Notification not supported!');
                }
            })
            .catch(function(err) {
                consoleWrite('ServiceWorker registration failed: ' + err);
            });
    }
</script>

</body>
</html>
